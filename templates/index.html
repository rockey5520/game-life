<!doctype html>
<html>
<head>
  <title>God Simulation</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-4">
  <h1 class="mb-4">🌍 God Simulation</h1>

  <!-- Flash messages -->
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="alert alert-info">
        {% for message in messages %}
          <div>{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <form method="POST" action="/reset">
    <button class="btn btn-danger mb-4">Reset World</button>
  </form>

  <div class="row">
    <!-- Men -->
    <div class="col-md-4">
      <h3>👨‍🦱 Men</h3>
      {% for man in men %}
        <div class="card mb-2 p-2">
          <strong>{{ man.identity }}</strong> — {{ man.personality }} ({{ man.age }})
          <div>🧬 {{ man.skin_color }}, {{ man.hair_color }}, {{ man.eye_color }}</div>
          <form method="POST" action="/mate" class="mt-1">
            <input type="hidden" name="group" value="men">
            <input type="hidden" name="index" value="{{ loop.index0 }}">
            <button class="btn btn-sm btn-primary">Mate with God</button>
          </form>
        </div>
      {% endfor %}
    </div>

    <!-- Women -->
    <div class="col-md-4">
      <h3>👩‍🦰 Women</h3>
      {% for woman in women %}
        <div class="card mb-2 p-2">
          <strong>{{ woman.identity }}</strong> — {{ woman.personality }} ({{ woman.age }})
          <div>🧬 {{ woman.skin_color }}, {{ woman.hair_color }}, {{ woman.eye_color }}</div>
          <form method="POST" action="/mate" class="mt-1">
            <input type="hidden" name="group" value="women">
            <input type="hidden" name="index" value="{{ loop.index0 }}">
            <button class="btn btn-sm btn-primary">Mate with God</button>
          </form>
        </div>
      {% endfor %}
    </div>

    <!-- Kids -->
    <div class="col-md-4">
      <h3>👶 Kids</h3>
      {% for kid in kids %}
        <div class="card mb-2 p-2">
          <strong>{{ kid.identity }}</strong> — {{ kid.gender }}, {{ kid.personality }}
          <div>🧬 {{ kid.skin_color }}, {{ kid.hair_color }}, {{ kid.eye_color }}</div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
</body>
</html>
